<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                template="/WEB-INF/layouts/standard.xhtml">
    News
    <ui:define name="title">News page</ui:define>

    <ui:define name="content">

        <!--DK: Temporary removed-->
        <ui:remove>
            <h:panelGroup layout="block" styleClass="error" rendered="#{facesHelper.error}">
                <h:messages/>
            </h:panelGroup>
        </ui:remove>

        <p:dataScroller value="#{articleBean.articles}" var="a" chunkSize="4">
            <fieldset>
                <div id="news_#{a.id}">
                    <!--button modify-->
                    <a class="newsEditButton" href="javascript:editArticle(#{a.id})">
                        <ui:include src="../../../img/ui/cog.svg"/>
                    </a>

                    <h3 class="newsTitle alt">#{a.title}</h3>

                    <p class="newsContent">#{a.content}</p>
                </div>

                <!--DK: News modify, hidden by default-->
                <div id="newsModify_#{a.id}" class="newsModifyHidden">
                    <!--button finish modify-->
                    <!--   <a class="newsModify_btnModFinish" href="javascript:finishArticleEditing(#{a.id})">
                           <ui:include src="../../../img/ui/checkmark.svg"/>
                       </a>-->
                    <h:form id="articlePost#{a.id}">
                        <h:commandLink class="newsModifyModFinishButton" action="modifyArticle"
                                       onclick="javascript:finishArticleEditing(#{a.id})">
                            <f:ajax execute="@form" render="@form"/>
                            <f:param name="articleID" value="#{a.id}"/>
                            <ui:include src="../../../img/ui/checkmark.svg"/>
                        </h:commandLink>

                        <!--Values here will be auto-completed by js-->
                        <h:inputHidden id="articleTitle" type="hidden" name="articleTitle"
                                       value="#{articleBean.articleTitle}"/>
                        <h:inputHidden id="articleContent" type="hidden" name="articleContent"
                                       value="#{articleBean.articleContent}"/>
                    </h:form>

                    <input class="newsModifyTitleInput alt" type="text" name="title" placeholder="Title" value=""/>

                    <div class="newsModifyToolbox">
                        <h:link class="newsToolboxButton newsToolboxButtonLastLeft" href="#" data-formatcmd="bold">
                            <ui:include src="../../../img/ui/bold.svg"/>
                        </h:link>
                        <h:link class="newsToolboxButton" href="#" data-formatcmd="italic">
                            <ui:include src="../../../img/ui/italic.svg"/>
                        </h:link>
                        <h:link class="newsToolboxButton" href="#">
                            <ui:include src="../../../img/ui/underline.svg"/>
                        </h:link>
                        <h:link class="newsToolboxButton" href="#">
                            <ui:include src="../../../img/ui/link.svg"/>
                        </h:link>
                        <h:link class="newsToolboxButton" href="#">
                            <ui:include src="../../../img/ui/image.svg"/>
                        </h:link>
                        <h:link class="newsToolboxButton newsToolboxButtonLastRight" href="#">
                            <ui:include src="../../../img/ui/list.svg"/>
                        </h:link>
                    </div>
                    <div class="newsModifyToolboxDescription" >
                        <!--DK: Content generated by articleEditor.js-->
                    </div>
                    <p class="newsModifyContentParagraph" contenteditable="true" placeholder="Write post content here.">

                    </p>
                    <!--<textarea class="newsModifyContentTextarea" />-->
                </div>
            </fieldset>
        </p:dataScroller>
    </ui:define>

</ui:composition>