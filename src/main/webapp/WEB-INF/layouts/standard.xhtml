<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
        >
<f:view contentType="text/html">
<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>JSF 2, Spring Web Flow, and PrimeFaces Showcase</title>

    <!--Linkowanie jQuery sprawiało ze komponent p:editor nie wyświetał się :/-->
    <!--<script src="http://code.jquery.com/jquery-2.1.1.js" type="text/javascript" ></script>-->
    <script src="${request.contextPath}/app/resources/scripts/plugins/jquery.autosize.js" type="text/javascript" ></script>
    <script src="${request.contextPath}/app/resources/scripts/articleEditor.js" type="text/javascript" ></script>
    <script src="${request.contextPath}/app/resources/scripts/article.js" type="text/javascript" ></script>
    <script src="${request.contextPath}/app/resources/scripts/global.js" type="text/javascript" ></script>
    <script src="${request.contextPath}/app/resources/scripts/plugins/modernizr.custom.38720.js" type="text/javascript" ></script>
    <script src="${request.contextPath}/app/resources/scripts/plugins/classie.js" type="text/javascript" ></script>
    <script src="${request.contextPath}/app/resources/scripts/plugins/coodrops.stepsForm.js" type="text/javascript" ></script>


    <link rel="stylesheet" href="${request.contextPath}/app/resources/styles/page/global.css" type="text/css" media="screen, projection" />
    <link rel="stylesheet" href="${request.contextPath}/app/resources/styles/page/article.css" type="text/css" media="screen, projection" />
    <link rel="stylesheet" href="${request.contextPath}/app/resources/styles/page/article-editor.css" type="text/css" media="screen, projection" />
    <link rel="stylesheet" href="${request.contextPath}/app/resources/styles/page/minimal-form.css" type="text/css" media="screen, projection" />
    <link rel="stylesheet" href="${request.contextPath}/app/resources/styles/blueprint/screen.css" type="text/css" media="screen, projection" />
	<link rel="stylesheet" href="${request.contextPath}/app/resources/styles/blueprint/print.css" type="text/css" media="print" />
	<!--[if lt IE 8]>
		<link rel="stylesheet" href="${request.servletPath}/styles/blueprint/ie.css" type="text/css" media="screen, projection" />
	<![endif]-->
	<ui:insert name="headIncludes"/>
</h:head>
<h:body>

    <ui:include src="${request.contextPath}../widgets/user-greet.xhtml" />

    <!--DK: Little JS help for resolving request contextPath -->
    <h:outputScript>window.AppRequestContextPath = "<h:outputText value="${request.servletPath}"/>";</h:outputScript>
<div class="container">
	<div>
		<h1>JSF 2, PrimeFaces, and Spring Web Flow</h1>
		<h3 class="alt">
			<ui:insert name="title"/>
		</h3>
		<hr/>
	</div>
	<div>	
		<ui:insert name="notes"/>


        <h:panelGroup rendered="#{userBean.userService.isLoggedIn() == true}">
            logged in as: <h:outputText value="#{userBean.userService.username}" />
        </h:panelGroup>
        <h:panelGroup rendered="#{userBean.userService.isLoggedIn() != true}">
            Welcome guest, login maybe?
        </h:panelGroup>
	</div>
	<div class="uiContent" >
		<ui:insert name="content"/>
	</div>
</div>
</h:body>
</f:view>
</html>
